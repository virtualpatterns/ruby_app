!!! 5
/
  #{__FILE__}
%html{attributes.merge(:manifest => '/ruby_app/resources/themes/mobile/base/base_page/manifest')}
  %head
    %meta{:name => 'viewport',
          :content => 'user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0'}
    %meta{:name => 'apple-mobile-web-app-capable',
          :content => 'yes'}
    %meta{:name => 'apple-mobile-web-app-status-bar-style',
          :content => 'black'}
    %link{:rel => 'apple-touch-icon',
          :href => '/ruby_app/resources/themes/mobile/base/base_page/icon.png'}
    %link{:rel => 'apple-touch-startup-image',
          :href => '/ruby_app/resources/themes/mobile/base/base_page/start.png'}
    %link{:rel => 'stylesheet',
          :href => "/#{RubyApp::Language.locale.code}/application.css",
          :type => 'text/css',
          :media => 'screen',
          :title => 'main', :charset=>'utf-8'}
    %script{:src => 'http://code.jquery.com/jquery-1.6.1.js',
            :type => 'text/javascript'}
    %script{:src => "/#{RubyApp::Language.locale.code}/application.js",
            :type => 'text/javascript'}
    %title
      = yield(:title) || self.translate.title
    /
      RubyApp::Session.data
    %meta{:name => :session_id, :content => RubyApp::Session.session_id}
    - RubyApp::Session.data.each do |name, value|
      %meta{:name => name, :content => value}
    /
      RubyApp::Request.query
    - RubyApp::Request.query.each do |name, value|
      %meta{:name => name, :content => value}
    /
      RubyApp::Language
    %meta{:name => :locale, :content => RubyApp::Language.locale.code}
    /
      RubyApp::Elements::Base::BasePage#data
    - self.data.each do |name, value|
      %meta{:name => name, :content => value}
    /
      (other)
    %meta{:name => :_event_error_message, :content => RubyApp::Elements::Base::BasePage.translate._event_error_message}
  %body
    %div.body
      = yield :body
    %ul.log
    %div.overlay
    %div.wait
      %div.image
